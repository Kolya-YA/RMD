<ul class="top-menu__list">
  {{ $currentPage := . }}
  {{ range first 10 .Site.Menus.main }}
    {{ if .HasChildren }}
    <li>
      <a href="{{ .URL }}" class="top-menu__parent {{if  ($currentPage.HasMenuCurrent "main" . ) }}active{{end}}">{{ .Name }}</a>
      <ul class="top-menu__child-list">
        {{ range .Children }}
        <li>
          <a href="{{ .URL }}" class="{{ if $currentPage.IsMenuCurrent "main" . }}active{{ end }}">{{ .Name }}</a>
        </li>
        {{ end }}
      </ul>
    </li>
    {{ else }}
    <li {{if  ($currentPage.IsMenuCurrent "main" . ) }}class="active"{{end}}>
        <a href="{{ .URL }}">{{ .Name }}</a>
    </li>
    {{ end }}
  {{ end }}
</ul>